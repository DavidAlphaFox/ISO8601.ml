<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="Up" href="ISO8601.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="ISO8601" rel="Chapter" href="ISO8601.html"><link title="Date parsing" rel="Section" href="#2_Dateparsing">
<link title="Printing functions" rel="Section" href="#2_Printingfunctions">
<title>ISO8601.Permissive</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="ISO8601.html" title="ISO8601">Up</a>
&nbsp;</div>
<h1>Module <a href="type_ISO8601.Permissive.html">ISO8601.Permissive</a></h1>

<pre><span class="keyword">module</span> Permissive: <code class="code">sig</code> <a href="ISO8601.Permissive.html">..</a> <code class="code">end</code></pre><hr width="100%">
<br>
<h2 id="2_Dateparsing">Date parsing</h2>
<p>

        <code class="code">date</code>, <code class="code">time</code> and <code class="code">datetime</code> parse a <code class="code">string</code> and return the
        corresponding timestamp (as <code class="code">float</code>).
<p>

        Times are <b>always</b> converted to UTC representation.
<p>

        For each of these functions, a <code class="code">_lex</code> suffixed function read
        from a <code class="code">Lexing.lexbuf</code> instead of a <code class="code">string</code>.
<p>

        <code class="code">datetime</code> functions also take an optional boolean <code class="code">reqtime</code>
        indicating if parsing must fail if a date is given and not
        a complete datetime. (Default is true).
<p>

        Functions with <code class="code">_tz</code> in their name return a <code class="code">float * float option</code>
        representing <code class="code">timestamp * offset option (timezone)</code>. <code class="code">timestamp</code>
        will be the UTC time, and <code class="code">offset option</code> is just an information
        about the original timezone.<br>

<pre><span id="VALdate_lex"><span class="keyword">val</span> date_lex</span> : <code class="type">Lexing.lexbuf -> float</code></pre>
<pre><span id="VALdate"><span class="keyword">val</span> date</span> : <code class="type">string -> float</code></pre>
<pre><span id="VALtime_tz_lex"><span class="keyword">val</span> time_tz_lex</span> : <code class="type">Lexing.lexbuf -> float * float option</code></pre>
<pre><span id="VALtime_lex"><span class="keyword">val</span> time_lex</span> : <code class="type">Lexing.lexbuf -> float</code></pre>
<pre><span id="VALtime_tz"><span class="keyword">val</span> time_tz</span> : <code class="type">string -> float * float option</code></pre>
<pre><span id="VALtime"><span class="keyword">val</span> time</span> : <code class="type">string -> float</code></pre>
<pre><span id="VALdatetime_tz_lex"><span class="keyword">val</span> datetime_tz_lex</span> : <code class="type">?reqtime:bool -> Lexing.lexbuf -> float * float option</code></pre>
<pre><span id="VALdatetime_lex"><span class="keyword">val</span> datetime_lex</span> : <code class="type">?reqtime:bool -> Lexing.lexbuf -> float</code></pre>
<pre><span id="VALdatetime_tz"><span class="keyword">val</span> datetime_tz</span> : <code class="type">?reqtime:bool -> string -> float * float option</code></pre>
<pre><span id="VALdatetime"><span class="keyword">val</span> datetime</span> : <code class="type">?reqtime:bool -> string -> float</code></pre><br>
<h2 id="2_Printingfunctions">Printing functions</h2>
<p>

        <b>NB: fractionnal part of timestamps will be lost when printing
         with current implementation.</b><br>

<pre><span id="VALpp_format"><span class="keyword">val</span> pp_format</span> : <code class="type">Format.formatter -> string -> float -> float -> unit</code></pre><div class="info ">
<code class="code">pp_format fmt format x tz</code>
<p>

        <code class="code">x</code> is the timestamp, and <code class="code">tz</code> the time zone offset.
<p>

        The <code class="code">format</code> string is a character string which contains
        two types of objects: plain characters, which are simply copied
        to <code class="code">fmt</code>, and conversion specifications, each of which causes
        conversion and printing of (a part of) <code class="code">x</code> or <code class="code">tz</code>.
<p>

        <b>If you do not want to use a timezone, set it to 0.</b>
<p>

        Conversion specifications have the form <code class="code">%X</code>, where X can be:
<p>
<ul>
<li><code class="code">Y</code>: Year</li>
<li><code class="code">M</code>: Month</li>
<li><code class="code">D</code>: Day</li>
<li><code class="code">h</code>: Hours</li>
<li><code class="code">m</code>: Minutes</li>
<li><code class="code">s</code>: Seconds</li>
<li><code class="code">Z</code>: Hours of <code class="code">tz</code> offset (with its sign)</li>
<li><code class="code">z</code>: Minutes of <code class="code">tz</code> offset (without sign)</li>
<li><code class="code">%</code>: The '%' character</li>
</ul>
<br>
</div>

<pre><span id="VALpp_date"><span class="keyword">val</span> pp_date</span> : <code class="type">Format.formatter -> float -> unit</code></pre><div class="info ">
"%Y-%M-%D" format.<br>
</div>

<pre><span id="VALstring_of_date"><span class="keyword">val</span> string_of_date</span> : <code class="type">float -> string</code></pre>
<pre><span id="VALpp_date_basic"><span class="keyword">val</span> pp_date_basic</span> : <code class="type">Format.formatter -> float -> unit</code></pre><div class="info ">
"%Y%M%D" format.<br>
</div>

<pre><span id="VALstring_of_date_basic"><span class="keyword">val</span> string_of_date_basic</span> : <code class="type">float -> string</code></pre>
<pre><span id="VALpp_time"><span class="keyword">val</span> pp_time</span> : <code class="type">Format.formatter -> float -> unit</code></pre><div class="info ">
"%h:%m:%s" format.<br>
</div>

<pre><span id="VALstring_of_time"><span class="keyword">val</span> string_of_time</span> : <code class="type">float -> string</code></pre>
<pre><span id="VALpp_time_basic"><span class="keyword">val</span> pp_time_basic</span> : <code class="type">Format.formatter -> float -> unit</code></pre><div class="info ">
"%h%m%s" format.<br>
</div>

<pre><span id="VALstring_of_time_basic"><span class="keyword">val</span> string_of_time_basic</span> : <code class="type">float -> string</code></pre>
<pre><span id="VALpp_datetime"><span class="keyword">val</span> pp_datetime</span> : <code class="type">Format.formatter -> float -> unit</code></pre><div class="info ">
"%Y-%M-%DT%h:%m:%s" format.<br>
</div>

<pre><span id="VALstring_of_datetime"><span class="keyword">val</span> string_of_datetime</span> : <code class="type">float -> string</code></pre>
<pre><span id="VALpp_datetime_basic"><span class="keyword">val</span> pp_datetime_basic</span> : <code class="type">Format.formatter -> float -> unit</code></pre><div class="info ">
"%Y%M%DT%h%m%s" format.<br>
</div>

<pre><span id="VALstring_of_datetime_basic"><span class="keyword">val</span> string_of_datetime_basic</span> : <code class="type">float -> string</code></pre>
<pre><span id="VALpp_datetimezone"><span class="keyword">val</span> pp_datetimezone</span> : <code class="type">Format.formatter -> float * float -> unit</code></pre><div class="info ">
"%Y-%M-%DT%h:%m:%s%Z:%z" format.<br>
</div>

<pre><span id="VALstring_of_datetimezone"><span class="keyword">val</span> string_of_datetimezone</span> : <code class="type">float * float -> string</code></pre>
<pre><span id="VALpp_datetimezone_basic"><span class="keyword">val</span> pp_datetimezone_basic</span> : <code class="type">Format.formatter -> float * float -> unit</code></pre><div class="info ">
"%Y%M%DT%h%m%s%Z%z" format.<br>
</div>

<pre><span id="VALstring_of_datetimezone_basic"><span class="keyword">val</span> string_of_datetimezone_basic</span> : <code class="type">float * float -> string</code></pre></body></html>